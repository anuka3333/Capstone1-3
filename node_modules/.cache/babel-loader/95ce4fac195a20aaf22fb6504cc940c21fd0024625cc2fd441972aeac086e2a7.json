{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Outlet}from'react-router-dom';import NavBar from'./components/nav/NavBar';import{useAuth0}from'@auth0/auth0-react';import'./layout.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Layout=()=>{var _user$httpsAnukaph;const{loginWithRedirect,logout,isAuthenticated,user,isLoading}=useAuth0();const[editMode,setEditMode]=useState(false);// const navigate = useNavigate();\nconst toggleEditMode=()=>setEditMode(prev=>!prev);// Optional: Debug user object\nuseEffect(()=>{console.log('Auth0 user:',user);},[user]);if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-row\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/anuka.png\",alt:\"Anuka Photos Banner\",className:\"banner-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"my-account-link\",children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Hello, \",user.name]}),(user===null||user===void 0?void 0:(_user$httpsAnukaph=user['https://anukaphotos333/roles'])===null||_user$httpsAnukaph===void 0?void 0:_user$httpsAnukaph.includes('admin'))&&/*#__PURE__*/_jsx(\"button\",{onClick:toggleEditMode,style:{marginLeft:'10px'},children:editMode?'Exit Edit Mode':'Edit Page'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>logout({returnTo:window.location.origin}),style:{marginLeft:'10px'},children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>loginWithRedirect(),children:\"My Account\"})}),/*#__PURE__*/_jsx(NavBar,{})]}),/*#__PURE__*/_jsx(\"main\",{style:{paddingTop:'20px'},children:/*#__PURE__*/_jsx(Outlet,{context:{editMode}})})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","Outlet","NavBar","useAuth0","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","_user$httpsAnukaph","loginWithRedirect","logout","isAuthenticated","user","isLoading","editMode","setEditMode","toggleEditMode","prev","console","log","children","className","src","alt","name","includes","onClick","style","marginLeft","returnTo","window","location","origin","paddingTop","context"],"sources":["/Users/anukherlen/capstone1-3/src/Layout.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport NavBar from './components/nav/NavBar';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport './layout.css';\n\nconst Layout = () => {\n  const { loginWithRedirect, logout, isAuthenticated, user, isLoading } = useAuth0();\n  const [editMode, setEditMode] = useState(false);\n  // const navigate = useNavigate();\n\n  const toggleEditMode = () => setEditMode(prev => !prev);\n\n  // Optional: Debug user object\n  useEffect(() => {\n    console.log('Auth0 user:', user);\n  }, [user]);\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <header className=\"header-row\">\n        <img src=\"/anuka.png\" alt=\"Anuka Photos Banner\" className=\"banner-img\" />\n\n        <div className=\"my-account-link\">\n          {isAuthenticated ? (\n            <>\n              <span>Hello, {user.name}</span>\n              {/* Admin-only Edit Page button */}\n              {user?.['https://anukaphotos333/roles']?.includes('admin') && (\n                <button onClick={toggleEditMode} style={{ marginLeft: '10px' }}>\n                  {editMode ? 'Exit Edit Mode' : 'Edit Page'}\n                </button>\n              )}\n              {/* Logout button redirects to home */}\n              <button\n                onClick={() =>\n                  logout({ returnTo: window.location.origin })\n                }\n                style={{ marginLeft: '10px' }}\n              >\n                Logout\n              </button>\n            </>\n          ) : (\n            <button onClick={() => loginWithRedirect()}>My Account</button>\n          )}\n        </div>\n\n        <NavBar />\n      </header>\n\n      <main style={{ paddingTop: '20px' }}>\n        {/* Pass editMode down to child pages */}\n        <Outlet context={{ editMode }} />\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,kBAAkB,CACzC,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CACnB,KAAM,CAAEC,iBAAiB,CAAEC,MAAM,CAAEC,eAAe,CAAEC,IAAI,CAAEC,SAAU,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAClF,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC/C;AAEA,KAAM,CAAAoB,cAAc,CAAGA,CAAA,GAAMD,WAAW,CAACE,IAAI,EAAI,CAACA,IAAI,CAAC,CAEvD;AACApB,SAAS,CAAC,IAAM,CACdqB,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEP,IAAI,CAAC,CAClC,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,GAAIC,SAAS,CAAE,mBAAOX,IAAA,QAAAkB,QAAA,CAAK,YAAU,CAAK,CAAC,CAE3C,mBACEhB,KAAA,QAAAgB,QAAA,eACEhB,KAAA,WAAQiB,SAAS,CAAC,YAAY,CAAAD,QAAA,eAC5BlB,IAAA,QAAKoB,GAAG,CAAC,YAAY,CAACC,GAAG,CAAC,qBAAqB,CAACF,SAAS,CAAC,YAAY,CAAE,CAAC,cAEzEnB,IAAA,QAAKmB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAC7BT,eAAe,cACdP,KAAA,CAAAE,SAAA,EAAAc,QAAA,eACEhB,KAAA,SAAAgB,QAAA,EAAM,SAAO,CAACR,IAAI,CAACY,IAAI,EAAO,CAAC,CAE9B,CAAAZ,IAAI,SAAJA,IAAI,kBAAAJ,kBAAA,CAAJI,IAAI,CAAG,8BAA8B,CAAC,UAAAJ,kBAAA,iBAAtCA,kBAAA,CAAwCiB,QAAQ,CAAC,OAAO,CAAC,gBACxDvB,IAAA,WAAQwB,OAAO,CAAEV,cAAe,CAACW,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAR,QAAA,CAC5DN,QAAQ,CAAG,gBAAgB,CAAG,WAAW,CACpC,CACT,cAEDZ,IAAA,WACEwB,OAAO,CAAEA,CAAA,GACPhB,MAAM,CAAC,CAAEmB,QAAQ,CAAEC,MAAM,CAACC,QAAQ,CAACC,MAAO,CAAC,CAC5C,CACDL,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAR,QAAA,CAC/B,QAED,CAAQ,CAAC,EACT,CAAC,cAEHlB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAMjB,iBAAiB,CAAC,CAAE,CAAAW,QAAA,CAAC,YAAU,CAAQ,CAC/D,CACE,CAAC,cAENlB,IAAA,CAACH,MAAM,GAAE,CAAC,EACJ,CAAC,cAETG,IAAA,SAAMyB,KAAK,CAAE,CAAEM,UAAU,CAAE,MAAO,CAAE,CAAAb,QAAA,cAElClB,IAAA,CAACJ,MAAM,EAACoC,OAAO,CAAE,CAAEpB,QAAS,CAAE,CAAE,CAAC,CAC7B,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}