{"ast":null,"code":"import React from'react';import{NavLink,useLocation}from'react-router-dom';import'./nav.css';import{useAuth0}from'@auth0/auth0-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NavBar=()=>{const{user,isAuthenticated}=useAuth0();// Normalize roles from several possible claim locations\nconst rawRoles=(user===null||user===void 0?void 0:user['https://anukaphotos333/roles'])||(user===null||user===void 0?void 0:user.roles)||(user===null||user===void 0?void 0:user.role)||(user===null||user===void 0?void 0:user['roles']);let roles=[];if(Array.isArray(rawRoles))roles=rawRoles;else if(typeof rawRoles==='string'&&rawRoles.trim()!=='')roles=rawRoles.split(',').map(r=>r.trim());else if(rawRoles)roles=[String(rawRoles)];const normalizedRoles=roles.map(r=>String(r).toLowerCase());const isAdmin=isAuthenticated&&normalizedRoles.includes('admin');const location=useLocation();// Portfolio is active if on /portraits, /live_events, or /hospitality\nconst isPortfolioActive=['/portraits','/live_events','/hospitality'].includes(location.pathname);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-nav\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/about\",children:\"About\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:isPortfolioActive?'portfolio-active':'',style:{cursor:'pointer'},children:\"Portfolio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/portraits\",children:\"Portraits\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/live_events\",children:\"Live Events\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/hospitality\",children:\"Hospitality\"})]})]}),/*#__PURE__*/_jsx(NavLink,{to:\"/contact\",children:\"Contact\"}),isAuthenticated&&/*#__PURE__*/_jsx(NavLink,{to:\"/albums\",children:\"Albums\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/shop\",children:\"Shop\"})]});};export default NavBar;","map":{"version":3,"names":["React","NavLink","useLocation","useAuth0","jsx","_jsx","jsxs","_jsxs","NavBar","user","isAuthenticated","rawRoles","roles","role","Array","isArray","trim","split","map","r","String","normalizedRoles","toLowerCase","isAdmin","includes","location","isPortfolioActive","pathname","className","children","to","style","cursor"],"sources":["/Users/anukherlen/capstone1-3/src/components/nav/NavBar.jsx"],"sourcesContent":["import React from 'react'\nimport { NavLink, useLocation } from 'react-router-dom'\nimport './nav.css'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nconst NavBar = () => {\n  const { user, isAuthenticated } = useAuth0();\n  // Normalize roles from several possible claim locations\n  const rawRoles = user?.['https://anukaphotos333/roles'] || user?.roles || user?.role || user?.['roles'];\n  let roles = [];\n  if (Array.isArray(rawRoles)) roles = rawRoles;\n  else if (typeof rawRoles === 'string' && rawRoles.trim() !== '') roles = rawRoles.split(',').map(r => r.trim());\n  else if (rawRoles) roles = [String(rawRoles)];\n  const normalizedRoles = roles.map(r => String(r).toLowerCase());\n  const isAdmin = isAuthenticated && normalizedRoles.includes('admin');\n\n  const location = useLocation();\n  // Portfolio is active if on /portraits, /live_events, or /hospitality\n  const isPortfolioActive = ['/portraits', '/live_events', '/hospitality'].includes(location.pathname);\n\n  return (\n    <div className=\"main-nav\">\n      <NavLink to=\"/\">Home</NavLink>\n      <NavLink to=\"/about\">About</NavLink>\n      <div className=\"dropdown\">\n        <span\n          className={isPortfolioActive ? 'portfolio-active' : ''}\n          style={{cursor: 'pointer'}}\n        >\n          Portfolio\n        </span>\n        <div className=\"dropdown-content\">\n          <NavLink to=\"/portraits\">Portraits</NavLink>\n          <NavLink to=\"/live_events\">Live Events</NavLink>\n          <NavLink to=\"/hospitality\">Hospitality</NavLink>\n        </div>\n      </div>\n      <NavLink to=\"/contact\">Contact</NavLink>\n      {isAuthenticated && <NavLink to=\"/albums\">Albums</NavLink>}\n      <NavLink to=\"/shop\">Shop</NavLink>\n    </div>\n  )\n}\n\nexport default NavBar"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}