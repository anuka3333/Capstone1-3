{"ast":null,"code":"import{useState,useEffect}from'react';import{createClient}from'@supabase/supabase-js';import api from'../api';import fetchClients from'../utils/clients';import{useAuth0}from'@auth0/auth0-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const supabaseUrl=process.env.REACT_APP_SUPABASE_URL;const supabaseAnonKey=process.env.REACT_APP_SUPABASE_ANON_KEY;const supabaseBucket=process.env.REACT_APP_SUPABASE_BUCKET;const supabase=createClient(supabaseUrl,supabaseAnonKey,{realtime:{enabled:false}});const AlbumForm=_ref=>{let{}=_ref;const[albumName,setAlbumName]=useState('');const[photos,setPhotos]=useState([]);const[previews,setPreviews]=useState([]);const[uploadedUrls,setUploadedUrls]=useState([]);const[loading,setLoading]=useState(false);const[users,setUsers]=useState([]);const[clientId,setClientId]=useState('');const{getAccessTokenSilently}=useAuth0();// Fetch users for admin dropdown\nuseEffect(()=>{async function fetchUsers(){try{let token;try{// prefer audience when configured for Auth0 API\ntoken=await getAccessTokenSilently({audience:process.env.REACT_APP_AUTH0_AUDIENCE});}catch(tErr){// token may fail when audience isn't configured; keep going to try unauthenticated fetch for debugging\nconsole.warn('getAccessTokenSilently failed:',(tErr===null||tErr===void 0?void 0:tErr.message)||tErr);}// Prefer fetching via the helper which will use configured API base or fallback URL\ntry{const data=await fetchClients({token});console.log('data:',data);// helper returns either { users: [...] } or an array\nif(Array.isArray(data))setUsers(data);else if(data&&data.users)setUsers(data.users);else if(data&&data.clients)setUsers(data.clients);else setUsers([]);}catch(err){console.warn('fetchClients failed, falling back to /auth/users:',err.message||err);let res;if(token){res=await api.get('/auth/users',{headers:{Authorization:`Bearer ${token}`}});}else{res=await api.get('/auth/users');}setUsers(res.data.users||res.data||[]);}}catch(err){var _err$response;console.error('Failed to fetch users:',(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message||err);}}fetchUsers();},[getAccessTokenSilently]);const handlePhotoChange=e=>{const files=Array.from(e.target.files);setPhotos(files);setPreviews(files.map(file=>URL.createObjectURL(file)));setUploadedUrls([]);// reset uploaded URLs on new selection\n};const uploadFileToSupabase=async(file,clientId)=>{try{// Create a unique file path, e.g. clientId/filename-timestamp.ext\nconst timestamp=Date.now();const fileExt=file.name.split('.').pop();const fileName=`${file.name.replace(/\\.[^/.]+$/,'')}-${timestamp}.${fileExt}`;const filePath=`${clientId}/${fileName}`;const{data,error}=await supabase.storage.from(supabaseBucket).upload(filePath,file);if(error){throw error;}// Get public URL\nconst{publicURL,error:urlError}=supabase.storage.from(supabaseBucket).getPublicUrl(filePath);if(urlError){throw urlError;}return publicURL;}catch(error){console.error('Error uploading file to Supabase:',error);throw error;}};const handleSubmit=async e=>{e.preventDefault();if(photos.length===0||!clientId){alert('Please select a client and at least one photo.');return;}try{setLoading(true);// Upload each photo directly to Supabase Storage\nconst uploadPromises=photos.map(photo=>uploadFileToSupabase(photo,clientId));const urls=await Promise.all(uploadPromises);setUploadedUrls(urls);alert('Photos uploaded successfully.');// Reset form inputs except client selection\nsetPhotos([]);setPreviews([]);}catch(error){console.error('Error uploading photos:',error);alert('Error uploading photos. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',border:'1px solid #ccc',padding:'15px',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Photos\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select Client:\",/*#__PURE__*/_jsxs(\"select\",{value:clientId,onChange:e=>setClientId(e.target.value),required:true,style:{marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Client --\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user.id||user.auth0_id||user.email,children:user.name?`${user.name} (${user.email||user.auth0_id||''})`:user.email||user.auth0_id},user.id||user.auth0_id||user.email))]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload Photos:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handlePhotoChange,style:{marginLeft:'10px'}})]})}),previews.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px',display:'flex',gap:'10px',flexWrap:'wrap'},children:previews.map((url,index)=>/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Preview ${index}`,style:{width:'100px',height:'100px',objectFit:'cover',borderRadius:'5px'}},index))}),uploadedUrls.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uploaded Photos:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap'},children:uploadedUrls.map((url,index)=>/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Uploaded ${index}`,style:{width:'100px',height:'100px',objectFit:'cover',borderRadius:'5px'}},index))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{marginTop:'10px',padding:'6px 12px'},children:loading?'Uploading...':'Upload Photos'})]})]});};export default AlbumForm;","map":{"version":3,"names":["useState","useEffect","createClient","api","fetchClients","useAuth0","jsx","_jsx","jsxs","_jsxs","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabaseBucket","REACT_APP_SUPABASE_BUCKET","supabase","realtime","enabled","AlbumForm","_ref","albumName","setAlbumName","photos","setPhotos","previews","setPreviews","uploadedUrls","setUploadedUrls","loading","setLoading","users","setUsers","clientId","setClientId","getAccessTokenSilently","fetchUsers","token","audience","REACT_APP_AUTH0_AUDIENCE","tErr","console","warn","message","data","log","Array","isArray","clients","err","res","get","headers","Authorization","_err$response","error","response","handlePhotoChange","e","files","from","target","map","file","URL","createObjectURL","uploadFileToSupabase","timestamp","Date","now","fileExt","name","split","pop","fileName","replace","filePath","storage","upload","publicURL","urlError","getPublicUrl","handleSubmit","preventDefault","length","alert","uploadPromises","photo","urls","Promise","all","style","marginTop","border","padding","borderRadius","children","onSubmit","marginBottom","value","onChange","required","marginLeft","user","id","auth0_id","email","type","multiple","accept","display","gap","flexWrap","url","index","src","alt","width","height","objectFit","disabled"],"sources":["/Users/anukherlen/capstone1-3/src/components/AlbumForm.jsx"],"sourcesContent":["import  { useState, useEffect } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport api from '../api';\nimport fetchClients from '../utils/clients';\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nconst supabaseBucket = process.env.REACT_APP_SUPABASE_BUCKET;\nconst supabase = createClient(supabaseUrl, supabaseAnonKey, {\n    realtime: { enabled: false }\n});\n\nconst AlbumForm = ({ }) => {\n  const [albumName, setAlbumName] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [previews, setPreviews] = useState([]);\n  const [uploadedUrls, setUploadedUrls] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [clientId, setClientId] = useState('');\n\n  const { getAccessTokenSilently } = useAuth0();\n\n  // Fetch users for admin dropdown\n  useEffect(() => {\n    async function fetchUsers() {\n      try {\n        let token;\n        try {\n          // prefer audience when configured for Auth0 API\n          token = await getAccessTokenSilently({\n            audience: process.env.REACT_APP_AUTH0_AUDIENCE,\n          });\n        } catch (tErr) {\n          // token may fail when audience isn't configured; keep going to try unauthenticated fetch for debugging\n          console.warn('getAccessTokenSilently failed:', tErr?.message || tErr);\n        }\n        // Prefer fetching via the helper which will use configured API base or fallback URL\n        try {\n          const data = await fetchClients({ token });\n          console.log('data:', data);\n          // helper returns either { users: [...] } or an array\n          if (Array.isArray(data)) setUsers(data);\n          else if (data && data.users) setUsers(data.users);\n          else if (data && data.clients) setUsers(data.clients);\n          else setUsers([]);\n        } catch (err) {\n          console.warn('fetchClients failed, falling back to /auth/users:', err.message || err);\n          let res;\n          if (token) {\n            res = await api.get('/auth/users', { headers: { Authorization: `Bearer ${token}` } });\n          } else {\n            res = await api.get('/auth/users');\n          }\n          setUsers(res.data.users || res.data || []);\n        }\n      } catch (err) {\n        console.error('Failed to fetch users:', err?.response?.data || err.message || err);\n      }\n    }\n    fetchUsers();\n  }, [getAccessTokenSilently]);\n\n  const handlePhotoChange = (e) => {\n    const files = Array.from(e.target.files);\n    setPhotos(files);\n    setPreviews(files.map((file) => URL.createObjectURL(file)));\n    setUploadedUrls([]); // reset uploaded URLs on new selection\n  };\n  \n  const uploadFileToSupabase = async (file, clientId) => {\n    try {\n      // Create a unique file path, e.g. clientId/filename-timestamp.ext\n      const timestamp = Date.now();\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${file.name.replace(/\\.[^/.]+$/, '')}-${timestamp}.${fileExt}`;\n      const filePath = `${clientId}/${fileName}`;\n      const { data, error } = await supabase.storage\n        .from(supabaseBucket)\n        .upload(filePath, file);\n\n      if (error) {\n        throw error;\n      }\n\n      // Get public URL\n      const { publicURL, error: urlError } = supabase.storage\n        .from(supabaseBucket)\n        .getPublicUrl(filePath);\n\n      if (urlError) {\n        throw urlError;\n      }\n\n      return publicURL;\n    } catch (error) {\n      console.error('Error uploading file to Supabase:', error);\n      throw error;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (photos.length === 0 || !clientId) {\n      alert('Please select a client and at least one photo.');\n      return;\n    }\n\n    try {\n      setLoading(true);\n\n      // Upload each photo directly to Supabase Storage\n      const uploadPromises = photos.map(photo => uploadFileToSupabase(photo, clientId));\n\n      const urls = await Promise.all(uploadPromises);\n\n      setUploadedUrls(urls);\n      alert('Photos uploaded successfully.');\n\n      // Reset form inputs except client selection\n      setPhotos([]);\n      setPreviews([]);\n    } catch (error) {\n      console.error('Error uploading photos:', error);\n      alert('Error uploading photos. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ marginTop: '20px', border: '1px solid #ccc', padding: '15px', borderRadius: '8px' }}>\n      <h2>Upload Photos</h2>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '10px' }}>\n          <label>\n            Select Client:\n            <select value={clientId} onChange={e => setClientId(e.target.value)} required style={{ marginLeft: '10px' }}>\n              <option value=\"\">-- Select Client --</option>\n              {users.map(user => (\n                <option key={user.id || user.auth0_id || user.email} value={user.id || user.auth0_id || user.email}>\n                  {user.name ? `${user.name} (${user.email || user.auth0_id || ''})` : (user.email || user.auth0_id)}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n\n        <div style={{ marginTop: '10px' }}>\n          <label>\n            Upload Photos:\n            <input\n              type=\"file\"\n              multiple\n              accept=\"image/*\"\n              onChange={handlePhotoChange}\n              style={{ marginLeft: '10px' }}\n            />\n          </label>\n        </div>\n\n        {previews.length > 0 && (\n          <div style={{ marginTop: '10px', display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\n            {previews.map((url, index) => (\n              <img key={index} src={url} alt={`Preview ${index}`} style={{ width: '100px', height: '100px', objectFit: 'cover', borderRadius: '5px' }} />\n            ))}\n          </div>\n        )}\n\n        {uploadedUrls.length > 0 && (\n          <div style={{ marginTop: '10px' }}>\n            <h3>Uploaded Photos:</h3>\n            <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\n              {uploadedUrls.map((url, index) => (\n                <img key={index} src={url} alt={`Uploaded ${index}`} style={{ width: '100px', height: '100px', objectFit: 'cover', borderRadius: '5px' }} />\n              ))}\n            </div>\n          </div>\n        )}\n\n        <button type=\"submit\" disabled={loading} style={{ marginTop: '10px', padding: '6px 12px' }}>\n          {loading ? 'Uploading...' : 'Upload Photos'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default AlbumForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}